<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic.html}">

<head layout:fragment="head">
    <title>구매 내역</title>
    <link th:href="@{/css/bootstrap.min.css}"
          href="/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-container {
            max-width: 560px;
            padding-left: 100px;
        }
        .field-error {
            border-color: #dc3545;
            color: #dc3545;
        }
    </style>
</head>

<div layout:fragment="content">
    <div class="form-container">
        <div class="py-5 text-center">
            <h2>[[${memId}]]님의 구매 내역</h2>
        </div>
        <th:block th:unless="${buyList.isEmpty()}">
            <div th:each="buyOne : ${buyList}">
                <span th:text="|제목:${buyOne.postDto.title}, |"> </span>
                <span th:text="|판매자:${buyOne.postDto.member.memId}|"> </span>
                <button th:onclick="|location.href='@{/reviews/seller(postId=${buyOne.postDto.postId})}'|"
                        th:if="${buyOne.reviewSellerId == 0}"> 리뷰남기기 </button>
                <button th:onclick="|location.href='@{/reviews/seller/{reviewSellerId}(reviewSellerId=${buyOne.reviewSellerId})}'|"
                        th:if="${buyOne.reviewSellerId != 0}" >리뷰 보기 </button>
            </div>
        </th:block>
        <th:block th:if="${buyList.isEmpty()}">
            <h4>구매한 내역이 없습니다.</h4>
        </th:block>
    </div> <!-- /form-container -->
</div>

<div layout:fragment="script" th:inline="javascript">
    <script th:inline="javascript">
    </script>
</div>